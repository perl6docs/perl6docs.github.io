<!doctype html>
<html lang="en">
    <head>
        <title>syntax self</title>
        <meta charset="UTF-8" />
        <style>
        kbd { font-family: "Droid Sans Mono", "Luxi Mono", "Inconsolata", monospace }
        samp { font-family: "Terminus", "Courier", "Lucida Console", monospace }
        u { text-decoration: none }
        .nested {
            margin-left: 3em;
        }
        aside, u { opacity: 0.7 }
        a[id^="fn-"]:target { background: #ff0 }
        </style>
        
        
        <meta name=viewport content="width=device-width, initial-scale=1">
<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="/css/app.css?v=7" media="screen" title="default" />
<noscript> <style> #search { visibility: hidden; } </style> </noscript>

    </head>
    <body class="pod">
    <div id="___top"></div>
    <div id="header" class="pretty-box green">
  <a href="/"
    ><img
      src="/images/Camelia.svg"
      alt="»ö«"
      id="logo"
      width="62"
      height="48"
    />&nbsp;Perl 6 Documentation</a
  >
  <div id="search" class="ui-widget">
    <div class="green">
      <input
        placeholder="Loading..."
        id="query"
        accesskey="f"
        title="Enter term to search for (hit Esc to focus)"
      />
    </div>
    <p id="not-found-message">
      Not in Index (<a href="" id="try-web-search">try site search</a>)
    </p>
  </div>
  <div class="menu">
    <div class="menu-items dark-green"><a class='menu-item darker-green' href='https://perl6.org'><strong>Perl&nbsp;6 homepage</strong></a>  <a class="menu-item " href="/language.html"> Language </a> <a class="menu-item " href="/type.html"> Types </a> <a class="menu-item " href="/routine.html"> Routines </a> <a class="menu-item " href="/programs.html"> Programs </a> <a class="menu-item " href="https://webchat.freenode.net/?channels=#perl6"> Chat with us </a></div>
  </div>
</div>
<div id="content" class="pretty-box yellow content_fragment">
  

    <h1 class='title'>syntax self</h1>
    
    <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
    <tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="#language_documentation_Object_orientation">language documentation Object orientation</a></td></tr>
   <tr class="toc-level-2"><td class="toc-number">1.1</td><td class="toc-text"><a href="#(Object_orientation)_self">(Object orientation)  self</a></td></tr>
                                                                                      
</table>
</nav>

    <div class="pod-body">
    <p>Documentation for syntax <code>self</code> assembled from the following types:</p>
<h1 id="language_documentation_Object_orientation"><a class="u" href="#___top" title="go to top of document">language documentation Object orientation</a></h1>
<p>From <a href="/language/objects#self">Object orientation</a></p>
<h2 id="(Object_orientation)_self"><a href="/language/objects#self">(Object orientation)  self</a></h2>
<p>Inside a method, the term <code>self</code> is available and bound to the invocant object. <code>self</code> can be used to call further methods on the invocant, including constructors:</p>
<pre class="pod-block-code">class Box {
  has $.data;

  method make-new-box-from() {
      self.new: data =&gt; $!data;
  }
}
</pre>
<p><code>self</code> can be used in class or instance methods as well, though beware of trying to invoke one type of method from the other:</p>
<pre class="pod-block-code">class C {
    method g()            { 42     }
    method f(::?CLASS:U:) { self.g }
    method d(::?CLASS:D:) { self.f }
}
C.f;        # OUTPUT: «42␤»
C.new.d;    # This will fail.
CATCH { default { put .^name ~ &quot;:\n&quot; ~ .Str } };
# OUTPUT: «X::Parameter::InvalidConcreteness:␤
#          Invocant of method &#39;f&#39; must be a type object of type &#39;C&#39;,
#          not an object instance of type &#39;C&#39;.  Did you forget a &#39;multi&#39;?»
</pre>
<p><code>self</code> can also be used with attributes, as long as they have an accessor. <code>self.a</code> will call the accessor for an attribute declared as <code>has $.a</code>. However, there is a difference between <code>self.a</code> and <code>$.a</code>, since the latter will itemize; <code>$.a</code> will be equivalent to <code>self.a.item</code> or <code>$(self.a)</code>.</p>
<pre class="pod-block-code">class A {
    has $.x = (1, 2, 3);
    method b() { .say for self.x; .say for $.x }
};
A.new.b; # OUTPUT: «1␤2␤3␤(1 2 3)␤»
</pre>
<p>The colon-syntax for method arguments is only supported for method calls using <code>self</code>, not the shortcut.</p>
<p>Note that if the relevant methods <code>bless</code>, <code>CREATE</code> of <a href="/type/Mu">Mu</a> are not overloaded, <code>self</code> will point to the type object in those methods.</p>
<p>On the other hand, the submethods <code>BUILD</code> and <code>TWEAK</code> are called on instances, in different stages of initialization. Submethods of the same name from subclasses have not yet run, so you should not rely on potentially virtual method calls inside these methods.</p>
<p><a name="index-entry-Private_methods"></a></p>

    </div>
    
    </div>
<footer class="pretty-box yellow">
    <p>This is a work in progress to document Perl 6, and known to be
        incomplete.</p>
     <p><a href="https://github.com/perl6/doc/blob/master/CONTRIBUTING.md#reporting-bugs">Please report any issues</a>
      Your contribution is appreciated.</p>
  <p>
      This documentation is provided under the terms of the
      <a href="https://raw.githubusercontent.com/perl6/doc/master/LICENSE">Artistic License 2.0</a>.
      The Camelia image is <a href="https://raw.githubusercontent.com/perl6/mu/master/misc/camelia.txt"
        >copyright © 2009 by Larry Wall.</a>
      <!-- CREDITS -->
      <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->

  </p>
</footer>

<script type="text/javascript" src="/js/app.js?v=1"></script>
<script type="text/javascript" src="/js/search.js?v=3"></script>
    </body>
</html>

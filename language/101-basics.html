<!doctype html>
<html lang="en">
    <head>
        <title>Perl&nbsp;6 by example P6-101</title>
        <meta charset="UTF-8" />
        <style>
        kbd { font-family: "Droid Sans Mono", "Luxi Mono", "Inconsolata", monospace }
        samp { font-family: "Terminus", "Courier", "Lucida Console", monospace }
        u { text-decoration: none }
        .nested {
            margin-left: 3em;
        }
        aside, u { opacity: 0.7 }
        a[id^="fn-"]:target { background: #ff0 }
        </style>
        
        
        <meta name=viewport content="width=device-width, initial-scale=1">
<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="/css/app.css?v=7" media="screen" title="default" />
<noscript> <style> #search { visibility: hidden; } </style> </noscript>

    </head>
    <body class="pod">
    <div id="___top"></div>
    <div id="header" class="pretty-box green">
  <a href="/"
    ><img
      src="/images/Camelia.svg"
      alt="»ö«"
      id="logo"
      width="62"
      height="48"
    />&nbsp;Perl 6 Documentation</a
  >
  <div id="search" class="ui-widget">
    <div class="green">
      <input
        placeholder="Loading..."
        id="query"
        accesskey="f"
        title="Enter term to search for (hit Esc to focus)"
      />
    </div>
    <p id="not-found-message">
      Not in Index (<a href="" id="try-web-search">try site search</a>)
    </p>
  </div>
  <div class="menu">
    <div class="menu-items dark-green"><a class='menu-item darker-green' href='https://perl6.org'><strong>Perl&nbsp;6 homepage</strong></a>  <a class="menu-item selected darker-green" href="/language.html"> Language </a> <a class="menu-item " href="/type.html"> Types </a> <a class="menu-item " href="/routine.html"> Routines </a> <a class="menu-item " href="/programs.html"> Programs </a> <a class="menu-item " href="https://webchat.freenode.net/?channels=#perl6"> Chat with us </a></div>
  </div>
</div>
<!-- please make sure these two CAPITALIZED variables stay there -->

<div id="content" class="pretty-box yellow content__language_101_basics">

    <h1 class='title'>Perl&nbsp;6 by example P6-101</h1>
    <p class='subtitle'>A basic introductory example of a Perl&nbsp;6 program</p>
    <nav class="indexgroup">
<table id="TOC">
<caption><h2 id="TOC_Title">Table of Contents</h2></caption>
                                                                                                                   <tr class="toc-level-3"><td class="toc-number">0.0.1</td><td class="toc-text"><a href="#v6"><code class="pod-code-inline">v6</code></a></td></tr>
    <tr class="toc-level-3"><td class="toc-number">0.0.2</td><td class="toc-text"><a href="#statement"><code class="pod-code-inline">statement</code></a></td></tr>
      <tr class="toc-level-3"><td class="toc-number">0.0.3</td><td class="toc-text"><a href="#lexical_and_block"><code class="pod-code-inline">lexical</code> and <code class="pod-code-inline">block</code></a></td></tr>
     <tr class="toc-level-3"><td class="toc-number">0.0.4</td><td class="toc-text"><a href="#sigil_and_identifier"><code class="pod-code-inline">sigil</code> and <code class="pod-code-inline">identifier</code></a></td></tr>
                          <tr class="toc-level-3"><td class="toc-number">0.0.5</td><td class="toc-text"><a href="#scalar"><code class="pod-code-inline">scalar</code></a></td></tr>
                  <tr class="toc-level-3"><td class="toc-number">0.0.6</td><td class="toc-text"><a href="#filehandle_and_assignment"><code class="pod-code-inline">filehandle</code> and <code class="pod-code-inline">assignment</code></a></td></tr>
                <tr class="toc-level-3"><td class="toc-number">0.0.7</td><td class="toc-text"><a href="#string_literal"><code class="pod-code-inline">string literal</code></a></td></tr>
         <tr class="toc-level-3"><td class="toc-number">0.0.8</td><td class="toc-text"><a href="#array,_method_and_invocant"><code class="pod-code-inline">array</code> , <code class="pod-code-inline">method</code> and <code class="pod-code-inline">invocant</code></a></td></tr>
                                               <tr class="toc-level-3"><td class="toc-number">0.0.9</td><td class="toc-text"><a href="#hash"><code class="pod-code-inline">hash</code></a></td></tr>
                             <tr class="toc-level-3"><td class="toc-number">0.0.10</td><td class="toc-text"><a href="#for_and_block"><code class="pod-code-inline">for</code> and <code class="pod-code-inline">block</code></a></td></tr>
                                                                                        <tr class="toc-level-3"><td class="toc-number">0.0.11</td><td class="toc-text"><a href="#Any_and_+="><code class="pod-code-inline">Any</code> and <code class="pod-code-inline">+=</code></a></td></tr>
           <tr class="toc-level-3"><td class="toc-number">0.0.12</td><td class="toc-text"><a href="#fat_arrow,_pair_and_autovivification"><code class="pod-code-inline">fat arrow</code> , <code class="pod-code-inline">pair</code> and <code class="pod-code-inline">autovivification</code></a></td></tr>
                                       <tr class="toc-level-3"><td class="toc-number">0.0.13</td><td class="toc-text"><a href="#postincrement_and_preincrement"><code class="pod-code-inline">postincrement</code> and <code class="pod-code-inline">preincrement</code></a></td></tr>
                   <tr class="toc-level-3"><td class="toc-number">0.0.14</td><td class="toc-text"><a href="#variables,_$_"><code class="pod-code-inline">variables, $_</code></a></td></tr>
              <tr class="toc-level-3"><td class="toc-number">0.0.15</td><td class="toc-text"><a href="#block"><code class="pod-code-inline">block</code></a></td></tr>
             <tr class="toc-level-3"><td class="toc-number">0.0.16</td><td class="toc-text"><a href="#stable_sort"><code class="pod-code-inline">stable sort</code></a></td></tr>
                           <tr class="toc-level-3"><td class="toc-number">0.0.17</td><td class="toc-text"><a href="#say,_print_and_put"><code class="pod-code-inline">say</code> , <code class="pod-code-inline">print</code> and <code class="pod-code-inline">put</code></a></td></tr>
                                        <tr class="toc-level-3"><td class="toc-number">0.0.18</td><td class="toc-text"><a href="#interpolation"><code class="pod-code-inline">interpolation</code></a></td></tr>
                  <tr class="toc-level-3"><td class="toc-number">0.0.19</td><td class="toc-text"><a href="#double-quoted_strings_and_single-quoted_strings"><code class="pod-code-inline">double-quoted strings</code> and <code class="pod-code-inline">single-quoted strings</code></a></td></tr>
                                                   <tr class="toc-level-3"><td class="toc-number">0.0.20</td><td class="toc-text"><a href="#Zen_slice"><code class="pod-code-inline">Zen slice</code></a></td></tr>
                        <tr class="toc-level-1"><td class="toc-number">1</td><td class="toc-text"><a href="#Exercises">Exercises</a></td></tr>
                                                                      
</table>
</nav>

    <div class="pod-body">
    <p>Suppose that you host a table tennis tournament. The referees tell you the results of each game in the format <code>Player1 Player2 | 3:2</code>, which means that <code>Player1</code> won against <code>Player2</code> by 3 to 2 sets. You need a script that sums up how many matches and sets each player has won to determine the overall winner.</p>
<p>The input data (stored in a file called <code>scores.txt</code>) looks like this:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Beth</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Ana</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Charlie</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Dave</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Ana</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Dave</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>|</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>3</span></span><span class="keyword operator generic perl6fe"><span>:</span></span><span class="constant numeric perl6fe"><span>0</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Charlie</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Beth</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>|</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>3</span></span><span class="keyword operator generic perl6fe"><span>:</span></span><span class="constant numeric perl6fe"><span>1</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Ana</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Beth</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>|</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>2</span></span><span class="keyword operator generic perl6fe"><span>:</span></span><span class="constant numeric perl6fe"><span>3</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Dave</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Charlie</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>|</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>3</span></span><span class="keyword operator generic perl6fe"><span>:</span></span><span class="constant numeric perl6fe"><span>0</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Ana</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Charlie</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>|</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>3</span></span><span class="keyword operator generic perl6fe"><span>:</span></span><span class="constant numeric perl6fe"><span>1</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Beth</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>Dave</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>|</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>0</span></span><span class="keyword operator generic perl6fe"><span>:</span></span><span class="constant numeric perl6fe"><span>3</span></span></span></div></pre><p>The first line is the list of players. Every subsequent line records a result of a match.</p>
<p>Here&#39;s one way to solve that problem in Perl&nbsp;6:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="keyword other include perl6fe"><span>use</span></span><span>&nbsp;</span><span class="constant language pragma perl6fe"><span>v6</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;Single&nbsp;line&nbsp;comments&nbsp;like&nbsp;this&nbsp;one&nbsp;start&nbsp;with&nbsp;&#39;#&#39;.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span>&nbsp;&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="support function perl6fe"><span>open</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>scores.txt</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;Comments&nbsp;can&nbsp;also&nbsp;follow&nbsp;code&nbsp;on&nbsp;a&nbsp;line.</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>names</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>get</span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>words</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span>#`(</span><span>&nbsp;&nbsp;Multiple&nbsp;line&nbsp;comments</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;denoted&nbsp;by&nbsp;a&nbsp;#,&nbsp;then&nbsp;`,&nbsp;then&nbsp;one&nbsp;of&nbsp;{,[,&nbsp;or&nbsp;</span><span class="comment internal paren perl6fe"><span>(</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span class="comment internal paren perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;closed&nbsp;by&nbsp;the&nbsp;corresponding&nbsp;},],&nbsp;and&nbsp;</span><span>)</span></span><span>.</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nested&nbsp;pairs&nbsp;of&nbsp;square&nbsp;brackets,&nbsp;curly&nbsp;braces&nbsp;and</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parentheses&nbsp;are&nbsp;matched,&nbsp;so</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;something&nbsp;like&nbsp;this&nbsp;</span><span class="comment internal paren perl6fe"><span>(</span><span>)</span></span><span>&nbsp;will&nbsp;not&nbsp;end&nbsp;the&nbsp;comment.</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick paren perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;this&nbsp;case,&nbsp;closed&nbsp;by:&nbsp;</span><span>)</span></span></span></div><div class="line"><span class="source perl6fe"><span class="keyword control repeat perl6fe"><span>for</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>lines</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control flowcontrol perl6fe"><span>next</span></span><span>&nbsp;</span><span class="keyword control conditional perl6fe"><span>unless</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span>;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;ignore&nbsp;any&nbsp;empty&nbsp;lines</span><span>&nbsp;</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>pairing</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>result</span></span></span><span>)&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>split</span></span><span>(</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>&nbsp;|&nbsp;</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>);</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>pairing</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>words</span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>result</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>split</span></span><span>(</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>:</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>);</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>+=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>+=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control conditional perl6fe"><span>if</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span class="keyword operator multi-symbol perl6fe"><span>++</span></span><span>;</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword control conditional perl6fe"><span>else</span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span class="keyword operator multi-symbol perl6fe"><span>++</span></span><span>;</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick bracket perl6fe"><span>#`[</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick bracket perl6fe"><span>&nbsp;&nbsp;This&nbsp;is&nbsp;another&nbsp;multi-line&nbsp;comment.&nbsp;</span><span>]</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment multiline hash-tick brace perl6fe"><span>#`{</span><span>&nbsp;So&nbsp;is&nbsp;this,&nbsp;though&nbsp;it&#39;s&nbsp;not&nbsp;actually&nbsp;multi-line.&nbsp;</span><span>}</span></span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>sorted</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>names</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>reverse</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="keyword control repeat perl6fe"><span>for</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>sorted</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>match-noun</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>==</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>??</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>match</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>!!</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>matches</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>set-noun</span></span></span><span>&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>==</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>??</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>set</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>!!</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>sets</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>n</span></span><span>&nbsp;has&nbsp;won&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span>matches</span></span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>match-noun</span></span><span>&nbsp;and&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span>sets</span></span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>set-noun</span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></div></pre><p>This produces the output:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Ana</span></span><span>&nbsp;</span><span class="storage modifier declarator perl6fe"><span>has</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>won</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>2</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>matches</span></span><span>&nbsp;</span><span class="keyword operator word perl6fe"><span>and</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>8</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>sets</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Dave</span></span><span>&nbsp;</span><span class="storage modifier declarator perl6fe"><span>has</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>won</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>2</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>matches</span></span><span>&nbsp;</span><span class="keyword operator word perl6fe"><span>and</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>6</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>sets</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Charlie</span></span><span>&nbsp;</span><span class="storage modifier declarator perl6fe"><span>has</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>won</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="support function perl6fe"><span>match</span></span><span>&nbsp;</span><span class="keyword operator word perl6fe"><span>and</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>4</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>sets</span></span></span></div><div class="line"><span class="source perl6fe"><span class="routine name perl6fe"><span>Beth</span></span><span>&nbsp;</span><span class="storage modifier declarator perl6fe"><span>has</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>won</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="support function perl6fe"><span>match</span></span><span>&nbsp;</span><span class="keyword operator word perl6fe"><span>and</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>4</span></span><span>&nbsp;</span><span class="routine name perl6fe"><span>sets</span></span></span></div></pre><h3 id="v6"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-v6_(Basics)-v6"><span class="index-entry"><code>v6</code></span></a></a></h3>
<p>Every Perl&nbsp;6 program should begin with a line similar to <code>use v6;</code>. This line tells the compiler which version of Perl&nbsp;6 the program expects. For instance, 6.c is an example of a Perl&nbsp;6 version. Should you accidentally run the file with Perl&nbsp;5, you&#39;ll get a helpful error message.</p>
<h3 id="statement"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-statement_(Basics)-statement"><span class="index-entry"><code>statement</code></span></a></a></h3>
<p>A Perl&nbsp;6 program consists of zero or more statements. A <em>statement</em> ends with a semicolon or a curly brace at the end of a line:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="support function perl6fe"><span>open</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>scores.txt</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;</span></span></div></pre><h3 id="lexical_and_block"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-lexical"><span class="index-entry"><code>lexical</code></span></a> and <a name="index-entry-block"><span class="index-entry"><code>block</code></span></a></a></h3>
<p><code>my</code> declares a lexical variable, which are visible only in the current block from the point of declaration to the end of the block. If there&#39;s no enclosing block, it&#39;s visible throughout the remainder of the file (which would effectively be the enclosing block). A block is any part of the code enclosed between curly braces <code>{ }</code>.</p>
<h3 id="sigil_and_identifier"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-sigil"><span class="index-entry"><code>sigil</code></span></a> and <a name="index-entry-identifier_(Basics)-identifier"><span class="index-entry"><code>identifier</code></span></a></a></h3>
<p>A variable name begins with a <em>sigil</em>, which is a non-alpha-numeric symbol such as <code>$</code>, <code>@</code>, <code>%</code>, or <code>&amp;</code> &mdash; or occasionally the double colon <code>::</code>. Sigils indicate the structural interface for the variable, such as whether it should be treated as a single value, a compound value, a subroutine, etc. After the sigil comes an <em>identifier</em>, which may consist of letters, digits and the underscore. Between letters you can also use a dash <code>-</code> or an apostrophe <code>&#39;</code>, so <code>isn&#39;t</code> and <code>double-click</code> are valid identifiers.</p>
<h3 id="scalar"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-scalar"><span class="index-entry"><code>scalar</code></span></a></a></h3>
<p>Sigils indicate the default access method for a variable. Variables with the <code>@</code> sigil are accessed positionally; variables with the <code>%</code> sigil are accessed by string key. The <code>$</code> sigil, however, indicates a general scalar container that can hold any single value and be accessed in any manner. A scalar can even contain a compound object like an <code>Array</code> or a <code>Hash</code>; the <code>$</code> sigil signifies that it should be treated as a single value, even in a context that expects multiple values (as with an <code>Array</code> or <code>Hash</code>).</p>
<h3 id="filehandle_and_assignment"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-filehandle"><span class="index-entry"><code>filehandle</code></span></a> and <a name="index-entry-assignment"><span class="index-entry"><code>assignment</code></span></a></a></h3>
<p>The built-in function <code>open</code> opens a file, here named <code>scores.txt</code>, and returns a <em>filehandle</em> &mdash; an object representing that file. The equality sign <code>=</code> <em>assigns</em> that filehandle to the variable on the left, which means that <code>$file</code> now stores the filehandle.</p>
<h3 id="string_literal"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-string_literal"><span class="index-entry"><code>string literal</code></span></a></a></h3>
<p><code>&#39;scores.txt&#39;</code> is a <em>string literal</em>. A string is a piece of text, and a string literal is a string which appears directly in the program. In this line, it&#39;s the argument provided to <code>open</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>names</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>get</span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>words</span></span><span>;</span></span></div></pre><h3 id="array,_method_and_invocant"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-array"><span class="index-entry"><code>array</code></span></a>, <a name="index-entry-method_(Basics)-method"><span class="index-entry"><code>method</code></span></a> and <a name="index-entry-invocant_(Basics)-invocant"><span class="index-entry"><code>invocant</code></span></a></a></h3>
<p>The right-hand side calls a <em>method</em> &mdash; a named group of behavior &mdash; named <code>get</code> on the filehandle stored in <code>$file</code>. The <code>get</code> method reads and returns one line from the file, removing the line ending. If you print the contents of <code>$file</code> after calling <code>get</code>, you will see that the first line is no longer in there. <code>words</code> is also a method, called on the string returned from <code>get</code>. <code>words</code> decomposes its <em>invocant</em> &mdash; the string on which it operates &mdash; into a list of words, which here means strings separated by whitespace. It turns the single string <code>&#39;Beth Ana Charlie Dave&#39;</code> into the list of strings <code>&#39;Beth&#39;, &#39;Ana&#39;, &#39;Charlie&#39;, &#39;Dave&#39;</code>.</p>
<p>Finally, this list gets stored in the <a href="/type/Array">Array</a> <code>@names</code>. The <code>@</code> sigil marks the declared variable as an <code>Array</code>. Arrays store ordered lists.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span>;</span></span></div></pre><h3 id="hash"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-hash"><span class="index-entry"><code>hash</code></span></a></a></h3>
<p>These two lines of code declare two hashes. The <code>%</code> sigil marks each variable as a <code>Hash</code>. A <code>Hash</code> is an unordered collection of key-value pairs. Other programming languages call that a <em>hash table</em>, <em>dictionary</em>, or <em>map</em>. You can query a hash table for the value that corresponds to a certain <code>$key</code> with <code>%hash{$key}</code>.</p>
<p>In the score counting program, <code>%matches</code> stores the number of matches each player has won. <code>%sets</code> stores the number of sets each player has won. Both of these hashes are indexed by the player&#39;s name.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="keyword control repeat perl6fe"><span>for</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>lines</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>...</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></div></pre><h3 id="for_and_block"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-for_(Basics)-for"><span class="index-entry"><code>for</code></span></a> and <a name="index-entry-block"><span class="index-entry"><code>block</code></span></a></a></h3>
<p><code>for</code> produces a loop that runs the <em>block</em> delimited by curly braces once for each item of the list, setting the variable <code>$line</code> to the current value of each iteration. <code>$file.lines</code> produces a list of the lines read from the file <code>scores.txt</code>, starting with the second line of the file since we already called <code>$file.get</code> once, and going all the way to the end of the file.</p>
<p>During the first iteration, <code>$line</code> will contain the string <code>Ana Dave | 3:0</code>; during the second, <code>Charlie Beth | 3:1</code>, and so on.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>pairing</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>result</span></span></span><span>)&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>split</span></span><span>(</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>&nbsp;|&nbsp;</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>);</span></span></div></pre><p><code>my</code> can declare multiple variables simultaneously. The right-hand side of the assignment is a call to a method named <code>split</code>, passing along the string <code>&#39; | &#39;</code> as an argument.</p>
<p><code>split</code> decomposes its invocant into a list of strings, so that joining the list items with the separator <code>&#39; | &#39;</code> produces the original string.</p>
<p><code>$pairing</code> gets the first item of the returned list, and <code>$result</code> the second.</p>
<p>After processing the first line, <code>$pairing</code> will hold the string <code>Ana Dave</code> and <code>$result</code> will hold <code>3:0</code>.</p>
<p>The next two lines follow the same pattern:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span>)&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>pairing</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>words</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>)&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>result</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>split</span></span><span>(</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>:</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>);</span></span></div></pre><p>The first extracts and stores the names of the two players in the variables <code>$p1</code> and <code>$p2</code>. The second extracts the results for each player and stores them in <code>$r1</code> and <code>$r2</code>.</p>
<p>After processing the first line of the file, the variables contain the values:</p>
<table class="pod-table">
<tbody>
<tr> <td>Variable</td> <td>Contents</td> </tr> <tr> <td>$line</td> <td>&#39;Ana Dave | 3:0&#39;</td> </tr> <tr> <td>$pairing</td> <td>&#39;Ana Dave&#39;</td> </tr> <tr> <td>$result</td> <td>&#39;3:0&#39;</td> </tr> <tr> <td>$p1</td> <td>&#39;Ana&#39;</td> </tr> <tr> <td>$p2</td> <td>&#39;Dave&#39;</td> </tr> <tr> <td>$r1</td> <td>&#39;3&#39;</td> </tr> <tr> <td>$r2</td> <td>&#39;0&#39;</td> </tr>
</tbody>
</table><p>The program then counts the number of sets each player has won:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>+=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>+=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>;</span></span></div></pre><p>The <code>+=</code> assignment operator is a shortcut for:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>+</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>+</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>;</span></span></div></pre><h3 id="Any_and_+="><a class="u" href="#___top" title="go to top of document"><a name="index-entry-Any_(Basics)-Any"><span class="index-entry"><code>Any</code></span></a> and <a name="index-entry-+="><span class="index-entry"><code>+=</code></span></a></a></h3>
<p><code>+= $r1</code> means <em>increase the value in the variable on the left by $r1</em>. In the first iteration <code>%sets{$p1}</code> is not yet set, so it defaults to a special value called <code>Any</code>. The addition and incrementing operators treat <code>Any</code> as a number with the value of zero; the strings get automatically converted to numbers, as addition is a numeric operation.</p>
<h3 id="fat_arrow,_pair_and_autovivification"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-fat_arrow"><span class="index-entry"><code>fat arrow</code></span></a>, <a name="index-entry-pair"><span class="index-entry"><code>pair</code></span></a> and <a name="index-entry-autovivification"><span class="index-entry"><code>autovivification</code></span></a></a></h3>
<p>Before these two lines execute, <code>%sets</code> is empty. Adding to an entry that is not in the hash yet will cause that entry to spring into existence just-in-time, with a value starting at zero. (This is <em>autovivification</em>). After these two lines have run for the first time, <code>%sets</code> contains <code>&#39;Ana&#39; =&gt; 3, &#39;Dave&#39; =&gt; 0 </code>. (The fat arrow <code>=&gt; </code> separates the key and the value in a <code>Pair</code>.)</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="keyword control conditional perl6fe"><span>if</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r1</span></span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>r2</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span class="keyword operator multi-symbol perl6fe"><span>++</span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword control conditional perl6fe"><span>else</span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span class="keyword operator multi-symbol perl6fe"><span>++</span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></div></pre><p>If <code>$r1</code> is numerically larger than <code>$r2</code>, <code>%matches{$p1}</code> increments by one. If <code>$r1</code> is not larger than <code>$r2</code>, <code>%matches{$p2}</code> increments. Just as in the case of <code>+=</code>, if either hash value did not exist previously, it is autovivified by the increment operation.</p>
<h3 id="postincrement_and_preincrement"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-postincrement"><span class="index-entry"><code>postincrement</code></span></a> and <a name="index-entry-preincrement"><span class="index-entry"><code>preincrement</code></span></a></a></h3>
<p><code>$thing++</code> is short for <code>$thing += 1</code> or <code>$thing = $thing + 1</code>, with the small exception that the return value of the expression is <code>$thing</code> <em>before</em> the increment, not the incremented value. As in many other programming languages, you can use <code>++</code> as a prefix. Then it returns the incremented value; <code>my $x = 1; say ++$x</code> prints <code>2</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>sorted</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>names</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>reverse</span></span><span>;</span></span></div></pre><h3 id="variables,_$_"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-variables,_$__"><span class="index-entry"><code>variables, $_</code></span></a></a></h3>
<p>This line consists of three individually simple steps. An array&#39;s <code>sort</code> method returns a sorted version of the array&#39;s contents. However, the default sort on an array sorts by its contents. To print player names in winner-first order, the code must sort the array by the <em>scores</em> of the players, not their names. The <code>sort</code> method&#39;s argument is a <em>block</em> used to transform the array elements (the names of players) to the data by which to sort. The array items are passed in through the <em>topic variable</em> <code>$_</code>.</p>
<h3 id="block"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-block_(Basics)-block"><span class="index-entry"><code>block</code></span></a></a></h3>
<p>You have seen blocks before: both the <code>for</code> loop <code>-&gt; $line { ... } </code> and the <code>if</code> statement worked on blocks. A block is a self-contained piece of Perl&nbsp;6 code with an optional signature (the <code>-&gt; $line </code> part).</p>
<p>The simplest way to sort the players by score would be <code>@names.sort({ %matches{$_} })</code>, which sorts by number of matches won. However Ana and Dave have both won two matches. That simple sort doesn&#39;t account for the number of sets won, which is the secondary criterion to decide who has won the tournament.</p>
<h3 id="stable_sort"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-stable_sort"><span class="index-entry"><code>stable sort</code></span></a></a></h3>
<p>When two array items have the same value, <code>sort</code> leaves them in the same order as it found them. Computer scientists call this a <em>stable sort</em>. The program takes advantage of this property of Perl&nbsp;6&#39;s <code>sort</code> to achieve the goal by sorting twice: first by the number of sets won (the secondary criterion), then by the number of matches won.</p>
<p>After the first sorting step, the names are in the order <code>Beth Charlie Dave Ana</code>. After the second sorting step, it&#39;s still the same, because no one has won fewer matches but more sets than someone else. Such a situation is entirely possible, especially at larger tournaments.</p>
<p><code>sort</code> sorts in ascending order, from smallest to largest. This is the opposite of the desired order. Therefore, the code calls the <code>.reverse</code> method on the result of the second sort, and stores the final list in <code>@sorted</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="keyword control repeat perl6fe"><span>for</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>sorted</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>match-noun</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>==</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>??</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>match</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>!!</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>matches</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>set-noun</span></span></span><span>&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>==</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>??</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>set</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>!!</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>sets</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>n</span></span><span>&nbsp;has&nbsp;won&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span>matches</span></span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>match-noun</span></span><span>&nbsp;and&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span>sets</span></span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>n</span></span></span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>set-noun</span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></div></pre><h3 id="say,_print_and_put"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-say_(Basics)-say"><span class="index-entry"><code>say</code></span></a>, <a name="index-entry-say_(Basics)-print"><span class="index-entry"><code>print</code></span></a> and <a name="index-entry-put_(Basics)-put"><span class="index-entry"><code>put</code></span></a></a></h3>
<p>To print out the players and their scores, the code loops over <code>@sorted</code>, setting <code>$n</code> to the name of each player in turn. Read this code as &quot;For each element of sorted, set <code>$n</code> to the element, then execute the contents of the following block.&quot; The variable <code>$match-noun</code> will store either the string <em>match</em> if the player has won a single match or <em>matches</em> if the player has won zero or more matches. In order to do this, the <em>ternary</em> operator (<code>?? !!</code>) is used. If <code>%matches{$n} == 1</code> evaluates to <code>True</code>, then <em>match</em> is returned. Otherwise, <em>matches</em> is returned. Either way, the returned value is stored in <code>$match-noun</code>. The same approach applies to &lt;$set-noun&gt;.</p>
<p>The statement <code>say</code> prints its arguments to the standard output (the screen, normally), followed by a newline. (Use <code>print</code> if you don&#39;t want the newline at the end.)</p>
<p>Note that <code>say</code> will truncate certain data structures by calling the <code>.gist</code> method so <code>put</code> is safer if you want exact output.</p>
<h3 id="interpolation"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-interpolation"><span class="index-entry"><code>interpolation</code></span></a></a></h3>
<p>When you run the program, you&#39;ll see that <code>say</code> doesn&#39;t print the contents of that string verbatim. In place of <code>$n</code> it prints the contents of the variable <code>$n</code> &mdash; the names of players stored in <code>$n</code>. This automatic substitution of code with its contents is <em>interpolation</em>. This interpolation happens only in strings delimited by double quotes <code>&quot;...&quot;</code>. Single quoted strings <code>&#39;...&#39;</code> do not interpolate:</p>
<h3 id="double-quoted_strings_and_single-quoted_strings"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-double-quoted_strings"><span class="index-entry"><code>double-quoted strings</code></span></a> and <a name="index-entry-single-quoted_strings"><span class="index-entry"><code>single-quoted strings</code></span></a></a></h3>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>names</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>things</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>Do&nbsp;not&nbsp;call&nbsp;me&nbsp;$names</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Do&nbsp;not&nbsp;call&nbsp;me&nbsp;$names␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>Do&nbsp;not&nbsp;call&nbsp;me&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>names</span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Do&nbsp;not&nbsp;call&nbsp;me&nbsp;things␤»</span><span>&nbsp;</span></span></span></div></pre><p>Double quoted strings in Perl&nbsp;6 can interpolate variables with the <code>$</code> sigil as well as blocks of code in curly braces. Since any arbitrary Perl code can appear within curly braces, <code>Array</code>s and <code>Hash</code>es may be interpolated by placing them within curly braces.</p>
<p>Arrays within curly braces are interpolated with a single space character between each item. Hashes within curly braces are interpolated as a series of lines. Each line will contain a key, followed by a tab character, then the value associated with that key, and finally a newline.</p>
<p>Let&#39;s see an example of this now.</p>
<p>In this example, you will see some special syntax that makes it easier to make a list of strings. This is the <code>&lt;...&gt;</code> <a href="/language/operators#index-entry-qw-quote-words-quote-words">quote-words</a> construct. When you put words in between the &lt; and &gt; they are all assumed to be strings, so you do not need to wrap them each in double quotes <code>&quot;...&quot;</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>Math:&nbsp;</span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>1</span></span><span>&nbsp;</span><span class="keyword operator generic perl6fe"><span>+</span></span><span>&nbsp;</span><span class="constant numeric perl6fe"><span>2</span></span><span>&nbsp;</span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«Math:&nbsp;3␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>people</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="span keyword operator array words perl6fe"><span>&lt;</span></span><span class="string array words perl6fe"><span>Luke&nbsp;Matthew&nbsp;Mark</span></span><span class="span keyword operator array words perl6fe"><span>&gt;</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>The&nbsp;synoptics&nbsp;are:&nbsp;</span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>people</span></span></span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«The&nbsp;synoptics&nbsp;are:&nbsp;Luke&nbsp;Matthew&nbsp;Mark␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span class="meta interpolation perl6fe"><span class="punctuation section embedded begin perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="punctuation section embedded end perl6fe"><span>}</span></span></span><span>␤</span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT&nbsp;(From&nbsp;the&nbsp;table&nbsp;tennis&nbsp;tournament):</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;Charlie&nbsp;4</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;Dave&nbsp;&nbsp;&nbsp;&nbsp;6</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;Ana&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;Beth&nbsp;&nbsp;&nbsp;&nbsp;4</span><span>&nbsp;</span></span></span></div></pre><p>When array and hash variables appear directly in a double-quoted string (and not inside curly braces), they are only interpolated if their name is followed by a postcircumfix &mdash; a bracketing pair that follows a statement. It&#39;s also ok to have a method call between the variable name and the postcircumfix.</p>
<h3 id="Zen_slice"><a class="u" href="#___top" title="go to top of document"><a name="index-entry-Zen_slice_(Basics)-Zen_slice"><span class="index-entry"><code>Zen slice</code></span></a></a></h3>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>flavors</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="span keyword operator array words perl6fe"><span>&lt;</span></span><span class="string array words perl6fe"><span>vanilla&nbsp;peach</span></span><span class="span keyword operator array words perl6fe"><span>&gt;</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>we&nbsp;have&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span>flavors</span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«we&nbsp;have&nbsp;@flavors␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>we&nbsp;have&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span>flavors</span><span class="keyword operator bracket open perl6fe"><span>[</span></span><span class="constant numeric perl6fe"><span>0</span></span><span class="keyword operator bracket close perl6fe"><span>]</span></span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«we&nbsp;have&nbsp;vanilla␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;so-called&nbsp;&quot;Zen&nbsp;slice&quot;</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>we&nbsp;have&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span>flavors</span><span class="keyword operator bracket open perl6fe"><span>[</span></span><span class="keyword operator bracket close perl6fe"><span>]</span></span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«we&nbsp;have&nbsp;vanilla&nbsp;peach␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;method&nbsp;calls&nbsp;ending&nbsp;in&nbsp;postcircumfix</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>we&nbsp;have&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span>flavors</span><span class="keyword operator dot perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>()</span></span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«we&nbsp;have&nbsp;peach&nbsp;vanilla␤»</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;chained&nbsp;method&nbsp;calls:</span><span>&nbsp;</span></span></span></div><div class="line"><span class="source perl6fe"><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>we&nbsp;have&nbsp;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span>flavors</span></span><span>.sort.join(&#39;,&nbsp;&#39;)</span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="punctuation whitespace comment leading perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line number-sign perl6fe"><span class="punctuation definition comment perl6fe"><span>#</span></span><span>&nbsp;OUTPUT:&nbsp;«we&nbsp;have&nbsp;peach,&nbsp;vanilla␤»</span><span>&nbsp;</span></span></span></div></pre><h1 id="Exercises"><a class="u" href="#___top" title="go to top of document">Exercises</a></h1>
<p><strong>1.</strong> The input format of the example program is redundant: the first line containing the name of all players is not necessary, because you can find out which players participated in the tournament by looking at their names in the subsequent rows.</p>
<p>How can you make the program run if you do not use the <code>@names</code> variable? Hint: <code>%hash.keys</code> returns a list of all keys stored in <code>%hash</code>.</p>
<p><strong>Answer:</strong> Remove the line <code>my @names = $file.get.words;</code>, and change:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>sorted</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>names</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>reverse</span></span><span>;</span></span></div></pre><p>... into:</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>sorted</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>keys</span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>sets</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>sort</span></span><span>(</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>%</span></span><span class="variable other identifier perl6fe"><span>matches</span></span></span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>_</span></span></span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span><span>)</span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>reverse</span></span><span>;</span></span></div></pre><p><strong>2.</strong> Instead of deleting the redundant <code>@names</code> variable, you can also use it to warn if a player appears that wasn&#39;t mentioned in the first line, for example due to a typo. How would you modify your program to achieve that?</p>
<p>Hint: Try using <a href="/language/operators#infix_(elem),_infix_∈">membership operators</a>.</p>
<p><strong>Answer:</strong> Change <code>@names</code> to <code>@valid-players</code>. When looping through the lines of the file, check to see that <code>$p1</code> and <code>$p2</code> are in <code>@valid-players</code>. Note that for membership operators you can also use <code>(elem)</code> and <code>!(elem)</code>.</p>
<pre class="editor editor-colors"><div class="line"><span class="source perl6fe"><span class="keyword operator multi-symbol perl6fe"><span>...</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>valid-players</span></span></span><span>&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>get</span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>words</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span class="keyword operator multi-symbol perl6fe"><span>...</span></span><span>;</span></span></div><div class="line"><span class="source perl6fe"><span>&nbsp;</span></span></div><div class="line"><span class="source perl6fe"><span class="keyword control repeat perl6fe"><span>for</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>file</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>lines</span></span><span>&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>-&gt;</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>pairing</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>result</span></span></span><span>)&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>line</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>split</span></span><span>(</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>&nbsp;|&nbsp;</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>);</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier declarator perl6fe"><span>my</span></span><span>&nbsp;(</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span>,&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage modifier assignment perl6fe"><span>=</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>pairing</span></span></span><span class="keyword operator generic perl6fe"><span>.</span></span><span class="support function perl6fe"><span>split</span></span><span>(</span><span class="string quoted single single perl6fe"><span class="punctuation definition string begin perl6fe"><span>&#39;</span></span><span>&nbsp;</span><span class="punctuation definition string end perl6fe"><span>&#39;</span></span></span><span>);</span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control conditional perl6fe"><span>if</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p1</span></span></span><span>&nbsp;</span><span class="keyword operator setbagmix perl6fe"><span>∉</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>valid-players</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>Warning:&nbsp;&#39;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>p1</span></span><span>&#39;&nbsp;is&nbsp;not&nbsp;on&nbsp;our&nbsp;list!</span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword control conditional perl6fe"><span>if</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span class="variable other identifier perl6fe"><span>p2</span></span></span><span>&nbsp;</span><span class="keyword operator setbagmix perl6fe"><span>∉</span></span><span>&nbsp;</span><span class="meta variable container perl6fe"><span class="variable other identifier sigil perl6fe"><span>@</span></span><span class="variable other identifier perl6fe"><span>valid-players</span></span></span><span>&nbsp;</span><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>{</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="support function perl6fe"><span>say</span></span><span>&nbsp;</span><span class="string quoted double perl6fe"><span class="punctuation definition string begin perl6fe"><span>&quot;</span></span><span>Warning:&nbsp;&#39;</span><span class="variable other identifier interpolated perl6fe"><span class="variable other identifier sigil perl6fe"><span>$</span></span><span>p2</span></span><span>&#39;&nbsp;is&nbsp;not&nbsp;on&nbsp;our&nbsp;list!</span><span class="punctuation definition string end perl6fe"><span>&quot;</span></span></span><span>;</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword operator multi-symbol perl6fe"><span>...</span></span></span></span></div><div class="line"><span class="source perl6fe"><span class="meta block perl6fe"><span class="punctuation definition block perl6fe"><span>}</span></span></span></span></div></pre>
    </div>
    
    </div>
<footer class="pretty-box yellow">

  <p>This is the deprecated documentation of the Perl 6 language, currently
      known as Raku. Please use
      <a href="https://docs.raku.org"><code>docs.raku.org</code></a> from now on.</p>

  <p>This page has been superseded by <a href="https://docs.raku.org//language/101-basics">/language/101-basics</a>.</p>

  <p> This documentation is provided under the terms of the
      <a href="https://raw.githubusercontent.com/perl6/doc/master/LICENSE">Artistic License 2.0</a>.
      The Camelia image is <a href="https://raw.githubusercontent.com/perl6/mu/master/misc/camelia.txt"
        >copyright © 2009 by Larry Wall.</a>
      <!-- CREDITS -->
      <!--External Link Image by Zapyon, CCA-SA 4.0. Derived from Wikimedia Foundation https://commons.wikimedia.org/wiki/File:External-link-04-bold-12x12.svg -->

  </p>
</footer>

<script type="text/javascript" src="/js/app.js?v=1"></script>
<script type="text/javascript" src="/js/search.js?v=3"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if (!location.hash || location.hash === "#___top") {
      $('query').focus();
    }
  });
</script>

    </body>
</html>
